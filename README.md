# Tribe - –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Å–µ—Ä–≤–∏—Å –º–∏–∫—Ä–æ–±–ª–æ–≥–æ–≤

![FastAPI](https://img.shields.io/badge/FastAPI-005571?style=for-the-badge&logo=fastapi)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-316192?style=for-the-badge&logo=postgresql&logoColor=white)
![Docker](https://img.shields.io/badge/Docker-2CA5E0?style=for-the-badge&logo=docker&logoColor=white)
![Nginx](https://img.shields.io/badge/Nginx-009639?style=for-the-badge&logo=nginx&logoColor=white)

–ë—ç–∫–µ–Ω–¥-—Å–µ—Ä–≤–∏—Å –¥–ª—è –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –º–∏–∫—Ä–æ–±–ª–æ–≥–æ–≤ —Å API –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–≤–∏—Ç–æ–≤, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –∏ –ª–∞–π–∫–∞–º–∏.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ —Ç–≤–∏—Ç–æ–≤
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤ –∫ —Ç–≤–∏—Ç–∞–º
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–ø–∏—Å–æ–∫ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –õ–∞–π–∫–∏ —Ç–≤–∏—Ç–æ–≤
- ‚úÖ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –ª–µ–Ω—Ç–∞ –ø–æ –ø–æ–¥–ø–∏—Å–∫–∞–º
- ‚úÖ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
- ‚úÖ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ API-–∫–ª—é—á—É

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker 20.10+
- Docker Compose 2.0+
- Python 3.12 (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

## üõ†Ô∏è –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone <your-repo-url>
cd Tribe
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ backend/, –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞ –º–æ–∂–µ—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ñ–∞–π–ª–æ–º .env.example.

### 3. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
docker compose up -d --build
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å–∞–º:

* Frontend: http://localhost

* Backend API: http://localhost/api

* Swagger Docs: http://localhost/api/docs

### 4. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–ª–µ–º api_key=test. –ë–µ–∑ –Ω–µ–≥–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–µ –±—É–¥–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –ë–î —É–¥–æ–±–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```sql
INSERT INTO users (name, api_key) VALUES ('Test User', 'test');
```

–¢–∞–∫ –∫–∞–∫ –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç—Å—è, —á—Ç–æ —Å–æ—Ü.—Å–µ—Ç—å –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞—è, —Ç–æ –≤ —ç—Ç—É –∂–µ —Ç–∞–±–ª–∏—Ü—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º API-–∫–ª—é—á–æ–º:

–ü—Ä–∏–º–µ—Ä:
```sql
INSERT INTO users (name, api_key) VALUES ('–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤', 'ExampleUniqueAP1key');
```

### üîë –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç API-–ö–ª—é—á –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö. –û–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫ —á–µ—Ä–µ–∑ –æ–∫–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

### API Endpoints

#### –¢–≤–∏—Ç—ã
* POST /api/tweets - –°–æ–∑–¥–∞—Ç—å —Ç–≤–∏—Ç
* DELETE /api/tweets/{id} - –£–¥–∞–ª–∏—Ç—å —Ç–≤–∏—Ç
* GET /api/tweets - –ü–æ–ª—É—á–∏—Ç—å –ª–µ–Ω—Ç—É

#### –ú–µ–¥–∏–∞
* POST /api/medias - –ó–∞–≥—Ä—É–∑–∏—Ç—å –º–µ–¥–∏–∞—Ñ–∞–π–ª(–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ –ø—Ä—è–º—É—é)

#### –õ–∞–π–∫–∏
* POST /api/tweets/{id}/likes - –ü–æ—Å—Ç–∞–≤–∏—Ç—å –ª–∞–π–∫
* DELETE /api/tweets/{id}/likes - –£–±—Ä–∞—Ç—å –ª–∞–π–∫

#### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
* POST /api/users/{id}/follow - –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è
* DELETE /api/users/{id}/follow - –û—Ç–ø–∏—Å–∞—Ç—å—Å—è
* GET /api/users/me - –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å
* GET /api/users/{id} - –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ *Swagger*: http://localhost:8000/docs


### Docker —Å–µ—Ä–≤–∏—Å—ã

* nginx: –ü—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 80)
* backend: FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
* db: PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö


### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
cd backend
poetry run pytest -v # –ª–∏–±–æ PYTHONPATH=$(pwd) pytest -v, –µ—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω–µ—Ç –ø—Ä–æ–±–ª–µ–º–∞ —Å –∏–º–ø–æ—Ä—Ç–æ–º –º–æ–¥—É–ª—è app
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
docker compose logs backend
docker compose logs nginx
docker compose logs db
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
```bash
docker compose down
docker compose up -d --build
```

### –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏:
#### Backend
* –ö–µ–ª—å–≤–∏—á –ë–æ–≥–¥–∞–Ω
#### Frontend
* –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ


### –õ–∏—Ü–µ–Ω–∑–∏—è
–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è –∫–æ–ø—Ä–æ—Ä–∞—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π.
